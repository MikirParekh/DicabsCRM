// import 'package:background_locator_2/background_locator.dart';
// import 'package:background_locator_2/settings/android_settings.dart';
// import 'package:background_locator_2/settings/ios_settings.dart';
// import 'package:background_locator_2/settings/locator_settings.dart';
import 'package:dicabs/approute/routes.dart';
import 'package:dicabs/core/media.dart';
import 'package:dicabs/service/location_callback.dart';
import 'package:flutter/material.dart';
import 'package:gap/gap.dart';
import 'package:go_router/go_router.dart';

class Dashboard extends StatelessWidget {
  const Dashboard({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Column(
        children: [
          Stack(
            children: [
              ShaderMask(
                  shaderCallback: (rect) {
                    return const LinearGradient(
                      begin: Alignment.topCenter,
                      end: Alignment.bottomCenter,
                      colors: [Colors.black, Colors.transparent],
                    ).createShader(Rect.fromLTRB(0, 0, rect.width, rect.height));
                  },
                  blendMode: BlendMode.dstIn,
              child: SizedBox(
                  height: 150,
                  width: double.maxFinite,
                  child: Image.asset(DMedia.streetMap,fit: BoxFit.cover)),),
              SafeArea(
                child: Padding(
                  padding: const EdgeInsets.fromLTRB(32, 24, 32, 24),
                  child: Column(
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      Text("Good Morning",style: Theme.of(context).textTheme.headlineLarge,),
                      const Gap(70),
                      InkWell(
                         onTap: () {
                           context.push(AppRoutes.mainPage);
                         },
                        child: Container(
                          height: 100,
                          decoration: ShapeDecoration(
                            color: Theme.of(context).primaryColor,
                            shape: ContinuousRectangleBorder(
                              borderRadius: BorderRadius.circular(50),
                            )
                          ),
                        ),
                      ),
                      const Gap(16),
                      InkWell(
                        onTap: () {
                          context.push(AppRoutes.mainPage);
                        },
                        child: Container(
                          height: 100,
                          decoration: ShapeDecoration(
                              color: Theme.of(context).primaryColor,
                              shape: ContinuousRectangleBorder(
                                borderRadius: BorderRadius.circular(50),
                              )
                          ),
                        ),
                      ),
                    ],
                  ),
                ),
              )
            ],
          ),
        ],
      ),
    );
  }

  void startLocationService() {
   /* BackgroundLocator.registerLocationUpdate(
      LocationCallbackHandler.callback,
      initCallback: LocationCallbackHandler.initCallback,
      disposeCallback: LocationCallbackHandler.disposeCallback,
      autoStop: false,
      iosSettings: const IOSSettings(
          accuracy: LocationAccuracy.NAVIGATION,
          distanceFilter: 0,q
          stopWithTerminate: true
      ),
        androidSettings: const AndroidSettings(
            accuracy: LocationAccuracy.NAVIGATION,
            interval: 5,
            distanceFilter: 0,
            client: LocationClient.google,
            androidNotificationSettings: AndroidNotificationSettings(
                notificationChannelName: 'Location tracking',
                notificationTitle: 'Start Location Tracking',
                notificationMsg: 'Track location in background',
                notificationBigMsg:
                'Background location is on to keep the app up-tp-date with your location. This is required for main features to work properly when the app is not running.',
                notificationIconColor: Colors.grey,
                //notificationTapCallback: LocationCallbackHandler.notificationCallback,
            ),
        )
    );*/
  }

}
